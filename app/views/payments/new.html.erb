<!-- app/views/payments/new.html.erb -->
<h1>Checkout</h1>
<p>Product: <%= @book.book_name %></p>
<p>Price: <%= number_to_currency(@book.book_price) %></p>

<div id="payment-form">
  <div id="card-element">
    <!-- A Stripe Element will be inserted here. -->
  </div>
  
  <!-- Used to display form errors. -->
  <div id="card-errors" role="alert"></div>

  <%= form_tag payments_path, id: 'stripe-form' do %>
    <%= hidden_field_tag :book_id, @book.id %>
    <%= submit_tag "Pay Now", class: "btn btn-primary" %>
  <% end %>
</div>

<script src="https://js.stripe.com/v3/"></script>
<script src="/assets/payment.js"></script>
