<div class="container mx-auto py-8">
  <%= form_tag(books_path, method: "get", class: "mb-4") do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search books...", class: "w-full border border-gray-300 rounded px-4 py-2" %>
    <%= submit_tag "Search", class: "mt-2 bg-blue-500 text-white px-4 py-2 rounded" %>
  <% end %>
  <h1 class="text-3xl font-bold mb-6">All Books</h1>
  <div class="absolute top-[240px]" ><%= paginate @books%></div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
    <% @books.each do |book| %>
      <div class="bg-white rounded-lg shadow-md">
        <div class="overflow-hidden rounded-t-lg">
           <% if book.book_image.attached? %>
          <%= image_tag(book.book_image, class: "h-[80px] w-[80px]") %>
        <% else %>
          <%= image_tag("book_cover.png", class: "h-[80px] w-[80px]") %>
        <% end %>
        </div>
        <div class="p-6">
          <h2 class="text-xl font-semibold mb-2"><%= book.book_name %></h2>
          <p class="text-gray-700 mb-4"><%= book.book_desc %></p>
          <p class="text-gray-600 mb-2">Author: <%= book.book_author %></p> 
          <p class="text-gray-600 mb-2">Publisher: <%= book.book_publisher %></p>
          <p class="text-gray-600 mb-2">Genre: <%= book.book_genre %></p>
          <%= link_to "View Details", book_path(book), class: "text-blue-500 hover:underline" %>
        </div>
      </div>
    <% end %>
  </div>